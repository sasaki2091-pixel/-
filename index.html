<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å½“é¸è€…ç™ºè¡¨</title>
  <link rel="stylesheet" href="index.css">
</head>

  body {
    font-family: sans-serif;
    background: #111;
    color: #fff;
    text-align: center;
  }

  .frame {
    width: 300px;
    height: 200px;
    margin: 50px;
    border: 4px solid #fff;
    position: relative;
    background: #000;
  }

  .line {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 3px;
    background: red;
    z-index: 10;
  }

  .list {
    position: absolute;
    width: 100%;
    top: 0;
  }

  .item {
    height: 40px;
    line-height: 40px;
    font-size: 24px;
  }

  button {
    font-size: 20px;
    padding: 10px 30px;
    margin-top: 20px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>å½“é¸è€…ç™ºè¡¨</h1>

<div class="frame">
  <div class="line"></div>
  <div class="list" id="list"></div>
</div>

<button onclick="start()">START</button>

<script>
const names = [
  "aæ°","bæ°","cæ°","dæ°","eæ°","fæ°",
  "gæ°","hæ°","iæ°","jæ°"
];

const list = document.getElementById("list");

// ãƒªã‚¹ãƒˆç”Ÿæˆï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã«è¤‡è£½ï¼‰
for (let i = 0; i < 10; i++) {
  names.forEach(name => {
    const div = document.createElement("div");
    div.className = "item";
    div.textContent = name;
    list.appendChild(div);
  });
}

let position = 0;
let speed = 30;
let timer;

function start() {
  clearInterval(timer);
  speed = 30;

  timer = setInterval(() => {
    position -= speed;
    list.style.top = position + "px";

    if (Math.abs(position) > list.offsetHeight / 2) {
      position = 0;
    }

    // å¾ã€…ã«æ¸›é€Ÿ
    speed *= 0.97;

    if (speed < 0.5) {
      clearInterval(timer);
      alignCenter();
    }
  }, 16);
}

function alignCenter() {
  const frame = document.querySelector(".frame");
  const frameRect = frame.getBoundingClientRect();
  const frameCenter = frameRect.top + frameRect.height / 2;

  const items = document.querySelectorAll(".item");

  let closest = null;
  let minDiff = Infinity;

  items.forEach(item => {
    const rect = item.getBoundingClientRect();
    const itemCenter = rect.top + rect.height / 2;

    const diff = Math.abs(itemCenter - frameCenter);

    if (diff < minDiff) {
      minDiff = diff;
      closest = item;
    }
  });

  alert("ğŸ‰ å½“é¸ï¼š" + closest.textContent);
}

  
</script>

</body>
</html>
